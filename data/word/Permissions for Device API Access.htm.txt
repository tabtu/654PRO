permissions for device api access permissions for device api access w3c working draft 05 october 2010 this version http www.w3.org tr 2010 wd-api-perms-20101005 latest published version http www.w3.org tr api-perms latest editor s draft http dev.w3.org 2009 dap api-perms previous version none editors paddy byers aplix frederick hirsch nokia dominique haza l-massieux w3c copyright 2010 w3c mit ercim keio all rights reserved. w3c liability trademark and document use rules apply. abstract this document identifies the permissions that are needed to use specific client-side apis which grant access to sensitive data and operations. status of this document this section describes the status of this document at the time of its publication. other documents may supersede this document. a list of current w3c publications and the latest revision of this technical report can be found in the w3c technical reports index at http www.w3.org tr this first public working draft represents the early consensus of the group on what identifiable permissions should look like and they encompass. the group is now looking for feedback on this approach and its applicability to various use cases including widgets configurations installable web applications existing permissions verifications. this document was published by the device apis and policy working group as a working draft. this document is intended to become a w3c recommendation. if you wish to make comments regarding this document please send them to public-device-apis@w3.org subscribe archives all feedback is welcome. publication as a working draft does not imply endorsement by the w3c membership. this is a draft document and may be updated replaced or obsoleted by other documents at any time. it is inappropriate to cite this document as other than work in progress. this document was produced by a group operating under the 5 february 2004 w3c patent policy. w3c maintains a public list of any patent disclosures made in connection with the deliverables of the group that page also includes instructions for disclosing a patent. an individual who has actual knowledge of a patent which the individual believes contains essential claim s must disclose the information in accordance with section 6 of the w3c patent policy. table of contents 1. introduction 2. permissions 2.1 geolocation api 2.2 contact api 2.3 capture api 2.4 file api 2.5 system information api a. mapping to bondi features and android permissions a.1 geolocation a.2 contacts a.3 media capture a.4 file a.5 system information b. references b.1 normative references b.2 informative references 1. introduction a number of web apis in particular those used to access private or sensitive data from the hosting device are meant to be discoverable as well as disabled or enabled on a site-by-site or application-by-application basis depending on the security context. for instance the feature element as defined in the widget packaging and configuration specification widgets allows a widget runtime engine to grant access only to the specific apis that the configuration file of the widget listed. this document identifies and names the various permissions that are attached to existing web apis. 2. permissions each permission described in this document is identified using a string specified in this document. where these permissions needed to be identified as a uri e.g. in a widget configuration file widgets a uri can be built from these strings by appending that string to the base http www.w3.org ns api-perms the dap base uri is entirely tentative at this stage. 2.1 geolocation api the geolocation identifier corresponds to the access to both or either of the geolocation getcurrentposition and geolocation watchposition methods defined in the geolocation api geolocation-api in the web browser environment this permission is usually granted through explicit user s consent and is retained for later access in the same session. 2.2 contact api the contacts.read identifier corresponds to the access to the contacts find method defined in the contacts api contacts-api in the web browser environment this permission is usually granted implicitly by asking the user to select what data of which contacts should be shared for each call to the said method. 2.3 capture api the mediacapture identifier corresponds to the access to the capture captureimage capture capturevideo and capture captureaudio methods defined in media capture api mediacapture-api in the web browser environment this permission is usually granted implicitly by asking the user to activate a button to start and stop the recording operations for each call to the said methods. 2.4 file api the file.read identifier corresponds to the access to the filereader readasarraybuffer filereader readasbinarystring filereader readastext and filereader readasdataurl methods defined in the file api file-api in the web browser environment this permission is usually granted implicitly once the file object has been created after the user has selected a file from a file picker and is retained for later access in the same browsing context. the file.write identifier corresponds to the access to the filewriter write filewriter truncate filewritersync write and filewritersync truncate methods defined in the file writer api file-writer in the web browser environment this permission is usually granted implicitly once the filesaver object has been created after the user has selected a path to which the data can be saved e.g. through a save as dialog 2.5 system information api the deviceinfo identifier corresponds to the access to the data of the power cpu thermal avcodecs storage outputdevices inputdevices properties available through the systeminfo get and systeminfo watch methods defined in the system information api sysinfoapi the networkinfo identifier corresponds to the access to the data of the network property available through the systeminfo get and systeminfo watch methods defined in the system information api sysinfoapi the sensorinfo identifier corresponds to the access to the data of the ambientlight ambientnoise ambienttemperature ambientatmosphericpressure and proximity properties available through the systeminfo get and systeminfo watch methods defined in the system information api sysinfoapi in the web browser environment these permissions are usually granted through explicit user s consent and are retained for later access in the same session. a. mapping to bondi features and android permissions this section maps the permissions defined in this document to bondi 1.11 feature strings bondi-features1-11 and corresponding android permissions. bondi 1.11 feature uris are formed by appending the bondi string to the base uri http bondi.omtp.org api 1.1 bondi and android values are only given as examples. note also that this section might contain errors. bondi and android meanings may not correspond as shown and even if the names are similar they may not be equivalent. a.1 geolocation w3c api permissions bondi 1.11 feature android permissions identifier scope identifier scope geolocation geolocation.position detection of the user s position android.permission.access_coarse_location access coarse e.g. cell-id wifi location android.permission.access_fine_location access fine e.g. gps location a.2 contacts w3c api permissions bondi 1.11 feature android permissions identifier scope identifier scope contacts.read pim.contacts.read read the contacts stored in the terminal android.permission.read_contacts read the user s contacts data. a.3 media capture w3c api permissions bondi 1.11 feature android permissions identifier scope identifier scope mediacapture camera.capture capturing a picture from a selected camera android.permission.camera access the camera device camera.record capturing a video from a selected camera android.permission.record_audio allows an application to record audio bondi 1.1 has a separate permission for detecting available cameras camera.access. a.4 file w3c api permissions bondi 1.11 feature android permissions identifier scope identifier scope file.read filesystem.read read access to a filesystem android.permission.read_owner_data allows an application to read the owner s data. file.write filesystem.write write access to a filesystem android.permission.write_owner_data allows an application to write but not read the owner s data.g a.5 system information w3c api permissions bondi 1.11 feature android permissions identifier scope identifier scope deviceinfo pim.devicestatus access to the device status module android.permission.battery_stats collect battery statistics networkinfo n a android.permission.network_state allows applications to access information about networks sensorinfo n a n a b. references b.1 normative references contacts-api r. tibbett. contacts api. 3rd august 2010. w3c latest editor s draft. work in progress. url http dev.w3.org 2009 dap contacts overview.html file-api arun ranganathan. file api. 17 november 2009. w3c working draft. work in progress. url http www.w3.org tr 2009 wd-fileapi-20091117 file-writer eric uhrhane. file writer api. w3c working draft. work in progress. url http dev.w3.org 2009 dap file-system file-writer.html geolocation-api andrei popescu. geolocation api specification. 22 december 2008. w3c working draft. work in progress. url http www.w3.org tr 2008 wd-geolocation-api-20081222 mediacapture-api dzung d tran ilkka oksanen ingmar kliche. the media capture api 3 september 2010. w3c editors draft workin progress. url http dev.w3.org 2009 dap camera overview-api.html sysinfoapi dzung tran max froumentin eds. the system information api 2 february 2010 w3c working draft. work in progess. url http www.w3.org tr 2010 wd-system-info-api-20100202 b.2 informative references bondi-features1-11 bondi api features v1.1 2 june 2010. formerly available at http bondi.omtp.org 1.11 apis apifeatures.html widgets marcos caceres. widget packaging and configuration. 01 december 2009. w3c candidate recommendation. work in progress. url http www.w3.org tr 2009 cr-widgets-20091201 